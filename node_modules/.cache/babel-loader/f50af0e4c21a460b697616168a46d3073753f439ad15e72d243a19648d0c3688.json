{"ast":null,"code":"import axios from\"axios\";import toast from\"react-hot-toast\";import{useMutation,useQuery,useQueryClient}from\"react-query\";export function Addtocard(productId){return axios.post(\"https://ecommerce.routemisr.com/api/v1/cart\",{productId},{headers:{token:localStorage.getItem(\"userToken\")}});}export function getcard(){return axios.get(\"https://ecommerce.routemisr.com/api/v1/cart\",{headers:{token:localStorage.getItem(\"userToken\")}});}export function Addtowish(productId){return axios.post(\"https://ecommerce.routemisr.com/api/v1/wishlist\",{productId},{headers:{token:localStorage.getItem(\"userToken\")}});}export function getwish(){return axios.get(\"https://ecommerce.routemisr.com/api/v1/wishlist\",{headers:{token:localStorage.getItem(\"userToken\")}});}export function deletcard(id){return axios.delete(\"https://ecommerce.routemisr.com/api/v1/cart/\".concat(id),{headers:{token:localStorage.getItem(\"userToken\")}});}export function deletcards(id){return axios.delete(\"https://ecommerce.routemisr.com/api/v1/wishlist/\".concat(id),{headers:{token:localStorage.getItem(\"userToken\")}});}export function updatacard(_ref){let{id,count}=_ref;return axios.put(\"https://ecommerce.routemisr.com/api/v1/cart/\".concat(id),{count},{headers:{token:localStorage.getItem(\"userToken\")}});}export function checkout(_ref2){let{id,shippingAddress}=_ref2;return axios.post(\"https://ecommerce.routemisr.com/api/v1/orders/checkout-session/\".concat(id,\"?url=http://localhost:3000\"),{shippingAddress},{headers:{token:localStorage.getItem(\"userToken\")}});}export function UseCard1(fn){const queryClient=useQueryClient();return useMutation(fn,{onSuccess:data=>{var _data$data;toast.success(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.message);queryClient.invalidateQueries(\"getcard\");},onError:data=>{var _data$data2;toast.error(data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.message);}});}export function UseCard2(fn){const queryClient=useQueryClient();return useMutation(fn,{onSuccess:data=>{var _data$data3;toast.success(data===null||data===void 0?void 0:(_data$data3=data.data)===null||_data$data3===void 0?void 0:_data$data3.message);queryClient.invalidateQueries(\"getwish\");},onError:data=>{var _data$data4;toast.error(data===null||data===void 0?void 0:(_data$data4=data.data)===null||_data$data4===void 0?void 0:_data$data4.message);}});}export function Usecard(key,fun){return useQuery(key,fun);}","map":{"version":3,"names":["axios","toast","useMutation","useQuery","useQueryClient","Addtocard","productId","post","headers","token","localStorage","getItem","getcard","get","Addtowish","getwish","deletcard","id","delete","concat","deletcards","updatacard","_ref","count","put","checkout","_ref2","shippingAddress","UseCard1","fn","queryClient","onSuccess","data","_data$data","success","message","invalidateQueries","onError","_data$data2","error","UseCard2","_data$data3","_data$data4","Usecard","key","fun"],"sources":["E:/Frontend course/React/e-commerce/src/components/Usecart.js"],"sourcesContent":["import axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\n\nexport function Addtocard(productId) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/cart`,\n    { productId },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\nexport function getcard() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/cart`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function Addtowish(productId) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/wishlist`,\n    { productId },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\n\nexport function getwish() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/wishlist`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function deletcard(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/cart/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function deletcards(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/wishlist/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function updatacard({ id, count }) {\n  return axios.put(\n    `https://ecommerce.routemisr.com/api/v1/cart/${id}`,\n    { count },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\nexport function checkout({ id, shippingAddress }) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${id}?url=http://localhost:3000`,\n    { shippingAddress },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\n\nexport function UseCard1(fn) {\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: (data) => {\n      toast.success(data?.data?.message);\n      queryClient.invalidateQueries(\"getcard\");\n    },\n    onError: (data) => {\n      toast.error(data?.data?.message);\n    },\n  });\n}\nexport function UseCard2(fn) {\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: (data) => {\n      toast.success(data?.data?.message);\n      queryClient.invalidateQueries(\"getwish\");\n    },\n    onError: (data) => {\n      toast.error(data?.data?.message);\n    },\n  });\n}\nexport function Usecard(key, fun) {\n  return useQuery(key, fun);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}