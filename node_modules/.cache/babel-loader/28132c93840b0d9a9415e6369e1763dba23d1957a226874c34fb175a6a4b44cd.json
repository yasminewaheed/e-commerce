{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nexport function Addtocard(productId) {\n  return axios.post(`https://ecommerce.routemisr.com/api/v1/cart`, {\n    productId\n  }, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\n_c = Addtocard;\nexport function getcard() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/cart`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function Addtowish(productId) {\n  return axios.post(`https://ecommerce.routemisr.com/api/v1/wishlist`, {\n    productId\n  }, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\n_c2 = Addtowish;\nexport function getwish() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/wishlist`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function deletcard(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/cart/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function deletcards(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/wishlist/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function updatacard({\n  id,\n  count\n}) {\n  return axios.put(`https://ecommerce.routemisr.com/api/v1/cart/${id}`, {\n    count\n  }, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function checkout({\n  id,\n  shippingAddress\n}) {\n  return axios.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${id}?url=http://localhost:3000`, {\n    shippingAddress\n  }, {\n    headers: {\n      token: localStorage.getItem(\"userToken\")\n    }\n  });\n}\nexport function UseCard1(fn) {\n  _s();\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: data => {\n      var _data$data;\n      toast.success(data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.message);\n      queryClient.invalidateQueries(\"getcard\");\n    },\n    onError: data => {\n      var _data$data2;\n      toast.error(data === null || data === void 0 ? void 0 : (_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : _data$data2.message);\n    }\n  });\n}\n_s(UseCard1, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\n_c3 = UseCard1;\nexport function UseCard2(fn) {\n  _s2();\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: data => {\n      var _data$data3;\n      toast.success(data === null || data === void 0 ? void 0 : (_data$data3 = data.data) === null || _data$data3 === void 0 ? void 0 : _data$data3.message);\n      queryClient.invalidateQueries(\"getwish\");\n    },\n    onError: data => {\n      var _data$data4;\n      toast.error(data === null || data === void 0 ? void 0 : (_data$data4 = data.data) === null || _data$data4 === void 0 ? void 0 : _data$data4.message);\n    }\n  });\n}\n_s2(UseCard2, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\n_c4 = UseCard2;\nexport function Usecard(key, fun) {\n  _s3();\n  return useQuery(key, fun);\n}\n_s3(Usecard, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n_c5 = Usecard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Addtocard\");\n$RefreshReg$(_c2, \"Addtowish\");\n$RefreshReg$(_c3, \"UseCard1\");\n$RefreshReg$(_c4, \"UseCard2\");\n$RefreshReg$(_c5, \"Usecard\");","map":{"version":3,"names":["axios","toast","useMutation","useQuery","useQueryClient","Addtocard","productId","post","headers","token","localStorage","getItem","_c","getcard","get","Addtowish","_c2","getwish","deletcard","id","delete","deletcards","updatacard","count","put","checkout","shippingAddress","UseCard1","fn","_s","queryClient","onSuccess","data","_data$data","success","message","invalidateQueries","onError","_data$data2","error","_c3","UseCard2","_s2","_data$data3","_data$data4","_c4","Usecard","key","fun","_s3","_c5","$RefreshReg$"],"sources":["E:/Frontend course/React/e-commerce/src/components/Usecart.js"],"sourcesContent":["import axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\n\nexport function Addtocard(productId) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/cart`,\n    { productId },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\nexport function getcard() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/cart`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function Addtowish(productId) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/wishlist`,\n    { productId },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\n\nexport function getwish() {\n  return axios.get(`https://ecommerce.routemisr.com/api/v1/wishlist`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function deletcard(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/cart/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function deletcards(id) {\n  return axios.delete(`https://ecommerce.routemisr.com/api/v1/wishlist/${id}`, {\n    headers: {\n      token: localStorage.getItem(\"userToken\"),\n    },\n  });\n}\nexport function updatacard({ id, count }) {\n  return axios.put(\n    `https://ecommerce.routemisr.com/api/v1/cart/${id}`,\n    { count },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\nexport function checkout({ id, shippingAddress }) {\n  return axios.post(\n    `https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${id}?url=http://localhost:3000`,\n    { shippingAddress },\n    {\n      headers: {\n        token: localStorage.getItem(\"userToken\"),\n      },\n    }\n  );\n}\n\nexport function UseCard1(fn) {\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: (data) => {\n      toast.success(data?.data?.message);\n      queryClient.invalidateQueries(\"getcard\");\n    },\n    onError: (data) => {\n      toast.error(data?.data?.message);\n    },\n  });\n}\nexport function UseCard2(fn) {\n  const queryClient = useQueryClient();\n  return useMutation(fn, {\n    onSuccess: (data) => {\n      toast.success(data?.data?.message);\n      queryClient.invalidateQueries(\"getwish\");\n    },\n    onError: (data) => {\n      toast.error(data?.data?.message);\n    },\n  });\n}\nexport function Usecard(key, fun) {\n  return useQuery(key, fun);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}