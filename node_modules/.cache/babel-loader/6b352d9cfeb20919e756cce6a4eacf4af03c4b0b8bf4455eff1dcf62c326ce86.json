{"ast":null,"code":"import React,{useState}from\"react\";import SimpleSlider from\"../Slidermain\";import Categoriesslider from\"../Categoriesslider\";import{Helmet}from\"react-helmet\";import Loading from\"./Loading\";import Useproduct,{getApi}from\"../Useproduct\";import{Link}from\"react-router-dom\";import{Addtocard,Addtowish,UseCard1}from\"../Usecart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var _data$data;let{data,isFetching,isLoading,error,isError}=Useproduct(\"product\",getApi);if(isLoading)return/*#__PURE__*/_jsx(Loading,{});if(isError)return/*#__PURE__*/_jsx(\"h2\",{children:error.message});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Home\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"canonical\",href:\"http://mysite.com/example\"})]}),/*#__PURE__*/_jsx(SimpleSlider,{}),/*#__PURE__*/_jsx(Categoriesslider,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row gy-4\",children:data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.data.map(prod=>/*#__PURE__*/_jsx(Product,{prod:prod},prod._id))})})]});}function Product(_ref){let{prod}=_ref;let{data,isLoading,error,isError,mutate}=UseCard1(Addtocard);let[heart,setheart]=useState(false);let{mutate:mutate1}=UseCard1(Addtowish);// console.log(data?.data?.message);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product cursor-pointer p-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-heart m-3\",style:heart?{color:\"red\"}:{color:\"unset\"},onClick:()=>{setheart(!heart);mutate1(prod._id);}}),/*#__PURE__*/_jsxs(Link,{to:\"/ProductDetails/\".concat(prod._id),style:{textDecoration:\"none\",textDecorationStyle:\"none\"},className:\"text-black\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:prod.imageCover,className:\"w-100 mb-2\",alt:\"\"}),/*#__PURE__*/_jsx(\"h6\",{className:\" text-main\",children:prod.category.name}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-bolder\",children:prod.title.split(\"\").splice(0,14)}),/*#__PURE__*/_jsxs(\"div\",{className:\"box d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[prod.price,\" EGP\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[prod.ratingsAverage,/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star rating-color\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-brd\",onClick:()=>{mutate(prod._id);},children:\"Add to Cart\"})]})});}","map":{"version":3,"names":["React","useState","SimpleSlider","Categoriesslider","Helmet","Loading","Useproduct","getApi","Link","Addtocard","Addtowish","UseCard1","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_data$data","data","isFetching","isLoading","error","isError","children","message","charSet","rel","href","className","map","prod","Product","_id","_ref","mutate","heart","setheart","mutate1","style","color","onClick","to","concat","textDecoration","textDecorationStyle","src","imageCover","alt","category","name","title","split","splice","price","ratingsAverage"],"sources":["E:/Frontend course/React/e-commerce/src/components/Home/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport SimpleSlider from \"../Slidermain\";\nimport Categoriesslider from \"../Categoriesslider\";\nimport { Helmet } from \"react-helmet\";\nimport Loading from \"./Loading\";\nimport Useproduct, { getApi } from \"../Useproduct\";\nimport { Link } from \"react-router-dom\";\nimport { Addtocard, Addtowish, UseCard1 } from \"../Usecart\";\n\nexport default function Home() {\n  let { data, isFetching, isLoading, error, isError } = Useproduct(\n    \"product\",\n    getApi\n  );\n  if (isLoading) return <Loading></Loading>;\n  if (isError) return <h2>{error.message}</h2>;\n  return (\n    <>\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <title>Home</title>\n        <link rel=\"canonical\" href=\"http://mysite.com/example\" />\n      </Helmet>\n      {/* <Carts /> */}\n      <SimpleSlider />\n      <Categoriesslider />\n      <div className=\"container-fluid px-5\">\n        <div className=\"row gy-4\">\n          {data?.data?.data.map((prod) => (\n            <Product prod={prod} key={prod._id}></Product>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\nfunction Product({ prod }) {\n  let { data, isLoading, error, isError, mutate } = UseCard1(Addtocard);\n  let [heart, setheart] = useState(false);\n  let { mutate: mutate1 } = UseCard1(Addtowish);\n  // console.log(data?.data?.message);\n  return (\n    <div className=\"col-md-2\">\n      <div className=\"product cursor-pointer p-2\">\n        <i\n          className=\"fa-solid fa-heart m-3\"\n          style={heart ? { color: \"red\" } : { color: \"unset\" }}\n          onClick={() => {\n            setheart(!heart);\n            mutate1(prod._id);\n          }}\n        ></i>\n        <Link\n          to={`/ProductDetails/${prod._id}`}\n          style={{ textDecoration: \"none\", textDecorationStyle: \"none\" }}\n          className=\"text-black\"\n        >\n          {\" \"}\n          <img src={prod.imageCover} className=\"w-100 mb-2\" alt=\"\" />\n          <h6 className=\" text-main\">{prod.category.name}</h6>\n          <p className=\"fw-bolder\">{prod.title.split(\"\").splice(0, 14)}</p>\n          <div className=\"box d-flex justify-content-between\">\n            <span>{prod.price} EGP</span>\n            <span>\n              {prod.ratingsAverage}\n              <i className=\"fa-solid fa-star rating-color\"></i>\n            </span>\n          </div>\n        </Link>\n        <button\n          className=\"btn btn-brd\"\n          onClick={() => {\n            mutate(prod._id);\n          }}\n        >\n          Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}