{"ast":null,"code":"import React,{useState}from\"react\";import Useproduct,{getApi}from\"../Useproduct\";import Loading from\"../Home/Loading\";import{Link}from\"react-router-dom\";import{Addtocard,Addtowish,UseCard1}from\"../Usecart\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Product(){var _data$data2;let{data,isFetching,isLoading,error,isError}=Useproduct(\"product\",getApi);let[searched,setsearched]=useState([]);function search(e){var _data$data;let term=e.target.value;// console.log(term);\nlet newarray=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.data.filter(ele=>ele.title.toLowerCase().trim().includes(term.toLowerCase().trim()));setsearched(newarray);}if(isLoading)return/*#__PURE__*/_jsx(Loading,{});if(isError)return/*#__PURE__*/_jsx(\"h2\",{children:error.message});return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-5 mt-3\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"canonical\",href:\"http://mysite.com/example\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-75 mx-auto bg-light p-3 mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control my-3\",type:\"text\",onChange:search,placeholder:\"Search....\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row gy-4\",children:searched.length?searched===null||searched===void 0?void 0:searched.map(prod=>/*#__PURE__*/_jsx(Producte,{prod:prod},prod._id)):data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.data.map(prod=>/*#__PURE__*/_jsx(Producte,{prod:prod},prod._id))})]});}function Producte(_ref){let{prod}=_ref;let[heart,setheart]=useState(false);let{mutate}=UseCard1(Addtocard);let{mutate:mutate1,data}=UseCard1(Addtowish);return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product cursor-pointer p-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-heart m-3\",style:heart?{color:\"red\"}:{color:\"unset\"},onClick:()=>{setheart(!heart);mutate1(prod._id);}}),/*#__PURE__*/_jsxs(Link,{to:\"/ProductDetails/\".concat(prod._id),style:{textDecoration:\"none\",textDecorationStyle:\"none\"},className:\"text-black\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:prod.imageCover,className:\"w-100 mb-2\",alt:\"\"}),/*#__PURE__*/_jsx(\"h6\",{className:\" text-main\",children:prod.category.name}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-bolder\",children:prod.title.split(\"\").splice(0,14)}),/*#__PURE__*/_jsxs(\"div\",{className:\"box d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[prod.price,\" EGP\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[prod.ratingsAverage,/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star rating-color\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-brd\",onClick:()=>{mutate(prod._id);},children:\"Add to Cart\"})]})});}","map":{"version":3,"names":["React","useState","Useproduct","getApi","Loading","Link","Addtocard","Addtowish","UseCard1","Helmet","jsx","_jsx","jsxs","_jsxs","Product","_data$data2","data","isFetching","isLoading","error","isError","searched","setsearched","search","e","_data$data","term","target","value","newarray","filter","ele","title","toLowerCase","trim","includes","children","message","className","charSet","rel","href","type","onChange","placeholder","length","map","prod","Producte","_id","_ref","heart","setheart","mutate","mutate1","style","color","onClick","to","concat","textDecoration","textDecorationStyle","src","imageCover","alt","category","name","split","splice","price","ratingsAverage"],"sources":["E:/Frontend course/React/e-commerce/src/components/Product/Product.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Useproduct, { getApi } from \"../Useproduct\";\nimport Loading from \"../Home/Loading\";\nimport { Link } from \"react-router-dom\";\nimport { Addtocard, Addtowish, UseCard1 } from \"../Usecart\";\nimport { Helmet } from \"react-helmet\";\nexport default function Product() {\n  let { data, isFetching, isLoading, error, isError } = Useproduct(\n    \"product\",\n    getApi\n  );\n  let [searched, setsearched] = useState([]);\n  function search(e) {\n    let term = e.target.value;\n    // console.log(term);\n    let newarray = data?.data?.data.filter((ele) =>\n      ele.title.toLowerCase().trim().includes(term.toLowerCase().trim())\n    );\n    setsearched(newarray);\n  }\n  if (isLoading) return <Loading></Loading>;\n  if (isError) return <h2>{error.message}</h2>;\n  return (\n    <div className=\"container-fluid px-5 mt-3\">\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <title>Products</title>\n        <link rel=\"canonical\" href=\"http://mysite.com/example\" />\n      </Helmet>\n      <div className=\"w-75 mx-auto bg-light p-3 mb-4\">\n        <input\n          className=\"form-control my-3\"\n          type=\"text\"\n          onChange={search}\n          placeholder=\"Search....\"\n        ></input>\n      </div>\n      <div className=\"row gy-4\">\n        {searched.length\n          ? searched?.map((prod) => (\n              <Producte prod={prod} key={prod._id}></Producte>\n            ))\n          : data?.data?.data.map((prod) => (\n              <Producte prod={prod} key={prod._id}></Producte>\n            ))}\n      </div>\n    </div>\n  );\n}\nfunction Producte({ prod }) {\n  let [heart, setheart] = useState(false);\n  let { mutate } = UseCard1(Addtocard);\n  let { mutate: mutate1, data } = UseCard1(Addtowish);\n\n  return (\n    <div className=\"col-md-2\">\n      <div className=\"product cursor-pointer p-2\">\n        <i\n          className=\"fa-solid fa-heart m-3\"\n          style={heart ? { color: \"red\" } : { color: \"unset\" }}\n          onClick={() => {\n            setheart(!heart);\n            mutate1(prod._id);\n          }}\n        ></i>\n        <Link\n          to={`/ProductDetails/${prod._id}`}\n          style={{ textDecoration: \"none\", textDecorationStyle: \"none\" }}\n          className=\"text-black\"\n        >\n          {\" \"}\n          <img src={prod.imageCover} className=\"w-100 mb-2\" alt=\"\" />\n          <h6 className=\" text-main\">{prod.category.name}</h6>\n          <p className=\"fw-bolder\">{prod.title.split(\"\").splice(0, 14)}</p>\n          <div className=\"box d-flex justify-content-between\">\n            <span>{prod.price} EGP</span>\n            <span>\n              {prod.ratingsAverage}\n              <i className=\"fa-solid fa-star rating-color\"></i>\n            </span>\n          </div>\n        </Link>\n        <button\n          className=\"btn btn-brd\"\n          onClick={() => {\n            mutate(prod._id);\n          }}\n        >\n          Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}