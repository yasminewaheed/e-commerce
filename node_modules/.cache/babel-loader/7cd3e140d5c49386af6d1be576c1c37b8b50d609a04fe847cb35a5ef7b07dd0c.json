{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{UseCard1,Usecard,checkout,deletcard,getcard,updatacard}from\"./Usecart\";import{UserContext}from\"./Context/UserContext\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Checkout(){let{mutate,data:deleted}=UseCard1(deletcard);let{mutate:mutated,data:update}=UseCard1(updatacard);let{mutate:mutatedonline,data:online}=UseCard1(checkout);let{isopen,setisopen}=useContext(UserContext);let{data,isError,isFetching,isLoading,error}=Usecard(\"getcard\",getcard);let[details,setdetails]=useState(\"\");let[phone,setphone]=useState(\"\");let[city,setcity]=useState(\"\");function addaddress(e){var _data$data,_data$data$data,_online$data,_online$data2,_online$data2$session,_data$data2,_data$data2$data,_online$data3,_online$data3$session;e.preventDefault();let shippingAddress={details,phone,city};mutatedonline({id:data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$data=_data$data.data)===null||_data$data$data===void 0?void 0:_data$data$data._id,shippingAddress});if((online===null||online===void 0?void 0:(_online$data=online.data)===null||_online$data===void 0?void 0:_online$data.status)===\"success\")window.location.href=online===null||online===void 0?void 0:(_online$data2=online.data)===null||_online$data2===void 0?void 0:(_online$data2$session=_online$data2.session)===null||_online$data2$session===void 0?void 0:_online$data2$session.url;console.log(data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$data=_data$data2.data)===null||_data$data2$data===void 0?void 0:_data$data2$data._id);console.log(online);console.log(online===null||online===void 0?void 0:(_online$data3=online.data)===null||_online$data3===void 0?void 0:(_online$data3$session=_online$data3.session)===null||_online$data3$session===void 0?void 0:_online$data3$session.url);console.log(online);}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Check out\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"apple-touch-icon\",href:\"../src/images/apple-touch-icon.png\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"icon\",href:\"../src/images/favicon.ico\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"recipient-name\",class:\"col-form-label\",children:\"Details:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"recipient-name\",onChange:e=>setdetails(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"recipient-name\",class:\"col-form-label\",children:\"phone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"recipient-name\",onChange:e=>setphone(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"recipient-name\",class:\"col-form-label\",children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"recipient-name\",onChange:e=>setcity(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"sumbit\",className:\"btn bg-main text-white w-100\",onClick:addaddress,children:\"Pay now\"})]})})]});}","map":{"version":3,"names":["React","useContext","useState","UseCard1","Usecard","checkout","deletcard","getcard","updatacard","UserContext","Helmet","jsx","_jsx","jsxs","_jsxs","Checkout","mutate","data","deleted","mutated","update","mutatedonline","online","isopen","setisopen","isError","isFetching","isLoading","error","details","setdetails","phone","setphone","city","setcity","addaddress","e","_data$data","_data$data$data","_online$data","_online$data2","_online$data2$session","_data$data2","_data$data2$data","_online$data3","_online$data3$session","preventDefault","shippingAddress","id","_id","status","window","location","href","session","url","console","log","className","children","rel","class","for","type","onChange","target","value","onClick"],"sources":["E:/Frontend course/React/e-commerce/src/components/Checkout.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport {\n  UseCard1,\n  Usecard,\n  checkout,\n  deletcard,\n  getcard,\n  updatacard,\n} from \"./Usecart\";\nimport { UserContext } from \"./Context/UserContext\";\nimport { Helmet } from \"react-helmet\";\n\nexport default function Checkout() {\n  let { mutate, data: deleted } = UseCard1(deletcard);\n  let { mutate: mutated, data: update } = UseCard1(updatacard);\n  let { mutate: mutatedonline, data: online } = UseCard1(checkout);\n  let { isopen, setisopen } = useContext(UserContext);\n  let { data, isError, isFetching, isLoading, error } = Usecard(\n    \"getcard\",\n    getcard\n  );\n  let [details, setdetails] = useState(\"\");\n  let [phone, setphone] = useState(\"\");\n  let [city, setcity] = useState(\"\");\n  function addaddress(e) {\n    e.preventDefault();\n    let shippingAddress = {\n      details,\n      phone,\n      city,\n    };\n    mutatedonline({ id: data?.data?.data?._id, shippingAddress });\n    if (online?.data?.status === \"success\")\n      window.location.href = online?.data?.session?.url;\n    console.log(data?.data?.data?._id);\n    console.log(online);\n    console.log(online?.data?.session?.url);\n    console.log(online);\n  }\n\n  return (\n    <div className=\"bg-light\">\n      <Helmet>\n        <title>Check out</title>\n        <link\n          rel=\"apple-touch-icon\"\n          href=\"../src/images/apple-touch-icon.png\"\n        />\n        <link rel=\"icon\" href=\"../src/images/favicon.ico\" />\n      </Helmet>\n      <div className=\"container\">\n        <form>\n          <div class=\"mb-3\">\n            <label for=\"recipient-name\" class=\"col-form-label\">\n              Details:\n            </label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"recipient-name\"\n              onChange={(e) => setdetails(e.target.value)}\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"recipient-name\" class=\"col-form-label\">\n              phone:\n            </label>\n            <input\n              type=\"number\"\n              class=\"form-control\"\n              id=\"recipient-name\"\n              onChange={(e) => setphone(e.target.value)}\n            />\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"recipient-name\" class=\"col-form-label\">\n              City:\n            </label>\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"recipient-name\"\n              onChange={(e) => setcity(e.target.value)}\n            />\n          </div>\n          <button\n            type=\"sumbit\"\n            className=\"btn bg-main text-white w-100\"\n            onClick={addaddress}\n          >\n            Pay now\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}